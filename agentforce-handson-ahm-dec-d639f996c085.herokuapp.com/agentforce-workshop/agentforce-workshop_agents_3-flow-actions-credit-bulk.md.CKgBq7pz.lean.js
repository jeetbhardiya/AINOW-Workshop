import{_ as e}from"./chunks/agents-flow-topic-action-tab.DgDFYXli.js";import{_ as o,c as s,a1 as a,o as n}from"./chunks/framework.BRP8cXOc.js";const r="/agentforce-workshop/agents-flow-create-action-credit-bulk.CsQnP8UA.webp",i="/agentforce-workshop/agents-flow-create-action-credit-bulk-2.vZqZ0LkH.webp",c="/agentforce-workshop/agents-flow-credit-bulk-add-action.DBIZ9Neh.webp",l="/agentforce-workshop/agents-flow-credit-bulk-result.D_KI5qMM.webp",p="/agentforce-workshop/agents-flow-credit-contacts-chicago.D9e-O1is.webp",d="/agentforce-workshop/agents-flow-credits-tallia.D9d1J-1g.webp",x=JSON.parse('{"title":"Exercise 3: Extend Agents with Flow Actions - Part 2","description":"","frontmatter":{},"headers":[],"relativePath":"agentforce-workshop/agents/3-flow-actions-credit-bulk.md","filePath":"agentforce-workshop/agents/3-flow-actions-credit-bulk.md"}'),g={name:"agentforce-workshop/agents/3-flow-actions-credit-bulk.md"};function h(u,t,m,f,w,k){return n(),s("div",null,t[0]||(t[0]=[a('<h1 id="exercise-3-extend-agents-with-flow-actions-part-2" tabindex="-1">Exercise 3: Extend Agents with Flow Actions - Part 2 <a class="header-anchor" href="#exercise-3-extend-agents-with-flow-actions-part-2" aria-label="Permalink to &quot;Exercise 3: Extend Agents with Flow Actions - Part 2&quot;">​</a></h1><p>This exercise builds upon the previous one. You&#39;ll create an alternative custom action that takes a collection of contacts as an input parameter to issue resort credits to multiple contacts with a single prompt.</p><h2 id="step-1-examine-the-issue-bulk-resort-credits-flow" tabindex="-1">Step 1: Examine the Issue Bulk Resort Credits flow <a class="header-anchor" href="#step-1-examine-the-issue-bulk-resort-credits-flow" aria-label="Permalink to &quot;Step 1: Examine the Issue Bulk Resort Credits flow&quot;">​</a></h2><ol><li><p>From <strong>Setup</strong>, open <strong>Flows</strong>.</p></li><li><p>Open the <strong>Issue Bulk Resort Credits</strong> flow.</p></li><li><p>Examine the flow. Here are some highlights:</p><ul><li><p>The flow takes a collection of contact records (<code>contactRecords</code>) and the credit amount (<code>amount</code>) as input parameters.</p></li><li><p>First we loop through <code>contactRecords</code>, create a <code>creditRecord</code> for each contact (including the contact and the amount), and add the <code>creditRecord</code> to the <code>creditRecords</code> collection.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>We create a collection of contact records to avoid invoking the <strong>Create Records</strong> action for each record. Always avoid performing database operations inside a loop.</p></div></li><li><p>Then we use the <strong>Create Records</strong> action to create the credit records using the <code>creditRecords</code> collection.</p></li><li><p>Finally, we set the value of the <code>message</code> output variable and include the number of credit records created.</p></li></ul></li><li><p>Click the <strong>back arrow button</strong> to leave Flow Builder and go back to Setup.</p></li></ol><h2 id="step-2-create-the-agent-custom-action" tabindex="-1">Step 2: Create the agent custom action <a class="header-anchor" href="#step-2-create-the-agent-custom-action" aria-label="Permalink to &quot;Step 2: Create the agent custom action&quot;">​</a></h2><ol><li><p>From Setup, open <strong>Agent Actions</strong>.</p></li><li><p>Click <strong>New Agent Action</strong>.</p></li><li><p>Configure the action as follows:</p><table tabindex="0"><thead><tr><th><strong>Field</strong></th><th><strong>Value</strong></th></tr></thead><tbody><tr><td>Reference Action Type</td><td><strong>Flow</strong></td></tr><tr><td>Reference Action</td><td><strong>Issue Bulk Resort Credits</strong></td></tr><tr><td>Agent Action Label</td><td>Keep default</td></tr><tr><td>Agent Action API Name</td><td>Keep default</td></tr></tbody></table><p><img src="'+r+'" alt="" data-zoomable="true"></p></li><li><p>Click <strong>Next</strong>.</p></li><li><p>Leave the default instructions in.</p></li><li><p>Check <strong>Require Input</strong> for both inputs (<code>amount</code> and <code>contactRecords</code>).</p></li><li><p>Check <strong>Show in conversation</strong> for the <code>message</code> output.</p><p><img src="'+i+'" alt="" data-zoomable="true"></p></li><li><p>Click <strong>Finish</strong>.</p></li></ol><h2 id="step-3-add-the-action-to-your-agent" tabindex="-1">Step 3: Add the action to your agent <a class="header-anchor" href="#step-3-add-the-action-to-your-agent" aria-label="Permalink to &quot;Step 3: Add the action to your agent&quot;">​</a></h2><ol><li><p>From Setup, open <strong>Agents</strong> (under Agent Studio).</p></li><li><p>Click on <strong>Einstein Copilot</strong> in the list of agents.</p></li><li><p>Click <strong>Open in Builder</strong>.</p></li><li><p>In the <strong>Topics</strong> sidebar, click the <strong>CustomerServiceAssistant</strong> topic.</p></li><li><p>Click the <strong>This Topic&#39;s Actions</strong> tab.</p><p><img src="'+e+'" alt="" data-zoomable="true"></p></li><li><p>Click the <strong>arrow down</strong> icon next to <strong>Issue Resort Credit</strong>, and select <strong>Remove from Topic</strong>.</p></li><li><p>Click the <strong>New</strong> button, and click <strong>Add from Asset Library</strong> to add an action.</p></li><li><p>Check the <strong>Issue Bulk Resort Credits</strong> action and click <strong>Finish</strong>.</p><p><img src="'+c+'" alt="" data-zoomable="true"></p></li></ol><h2 id="step-4-try-it-out" tabindex="-1">Step 4: Try it out <a class="header-anchor" href="#step-4-try-it-out" aria-label="Permalink to &quot;Step 4: Try it out&quot;">​</a></h2><ol><li><p>In the Conversation Preview panel, enter the following prompt:</p><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki Codey High Noon vp-code" tabindex="0"><code><span class="line"><span>Issue a $200 resort credit to Contacts in Chicago</span></span></code></pre></div><p><img src="'+l+'" alt="" data-zoomable="true"></p></li><li><p>Now, enter the following prompt:</p><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki Codey High Noon vp-code" tabindex="0"><code><span class="line"><span>List Contacts in Chicago</span></span></code></pre></div><p><img src="'+p+'" alt="" data-zoomable="true"></p></li><li><p>Take note of the name of one of the contacts. In the Coral Cloud app, search for that contact and open the corresponding contact record page.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>The links don&#39;t work in development from Agent Builder.</p></div></li><li><p>Click the <strong>Related</strong> tab.</p></li><li><p>Scroll down and verify that you see the resort credit that you just issued.</p><p><img src="'+d+'" alt="" data-zoomable="true"></p></li></ol>',10)]))}const v=o(g,[["render",h]]);export{x as __pageData,v as default};
