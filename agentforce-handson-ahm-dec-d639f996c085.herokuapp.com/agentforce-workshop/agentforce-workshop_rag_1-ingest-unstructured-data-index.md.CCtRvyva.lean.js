import{_ as o,c as r,a1 as t,G as n,B as s,o as i}from"./chunks/framework.BRP8cXOc.js";const l="/agentforce-workshop/rag-1-external-files.ORjDcAbn.webp",c="/agentforce-workshop/rag-1-s3-source.BTlryxNx.webp",d="/agentforce-workshop/rag-1-connection-setup.W7TzXacI.webp",p="/agentforce-workshop/rag-1-udlo-definition-without-semantic.DejR4R0e.webp",u="/agentforce-workshop/rag-1-search-index.BvuPC3PN.webp",g="/agentforce-workshop/rag-1-select-index-setup.BgUfG_Lq.webp",h="/agentforce-workshop/rag-1-select-index-demo.CTnKLDf1.webp",f="/agentforce-workshop/rag-1-select-index-confirm.DaPRRQQI.webp",m="/agentforce-workshop/rag-1-connected-app._JL12Dyw.webp",b="/agentforce-workshop/rag-1-data-explorer.0nykvkGw.webp",k="/agentforce-workshop/rag-1-chunks.D9vc5YP5.webp",I=JSON.parse('{"title":"Exercise 1: Ingest Unstructured Data from Amazon S3","description":"","frontmatter":{},"headers":[],"relativePath":"agentforce-workshop/rag/1-ingest-unstructured-data-index.md","filePath":"agentforce-workshop/rag/1-ingest-unstructured-data-index.md"}'),w={name:"agentforce-workshop/rag/1-ingest-unstructured-data-index.md"};function _(x,e,S,D,y,C){const a=s("ComponentS3Input");return i(),r("div",null,[e[0]||(e[0]=t('<h1 id="exercise-1-ingest-unstructured-data-from-amazon-s3" tabindex="-1">Exercise 1: Ingest Unstructured Data from Amazon S3 <a class="header-anchor" href="#exercise-1-ingest-unstructured-data-from-amazon-s3" aria-label="Permalink to &quot;Exercise 1: Ingest Unstructured Data from Amazon S3&quot;">​</a></h1><p>Coral Cloud Resorts stores various types of information as PDFs in Amazon S3. Check out some of these PDFs below to familiarize yourself with their content:</p><ul><li><a href="https://coral-cloud.s3.amazonaws.com/agentforce-rag/experiences.pdf" target="_blank" rel="noreferrer">experiences.pdf</a></li><li><a href="https://coral-cloud.s3.amazonaws.com/agentforce-rag/hotel-policies.pdf" target="_blank" rel="noreferrer">hotel-policies.pdf</a></li><li><a href="https://coral-cloud.s3.amazonaws.com/agentforce-rag/valet-services-policies.pdf" target="_blank" rel="noreferrer">valet-services-policies.pdf</a></li><li><a href="https://coral-cloud.s3.amazonaws.com/agentforce-rag/wedding-planning-guide.pdf" target="_blank" rel="noreferrer">wedding-planning-guide.pdf</a></li></ul><p>In this exercise, you&#39;ll ingest the unstructured data from those PDFs into Data Cloud.</p><h2 id="step-1-create-an-unstructured-data-lake-object" tabindex="-1">Step 1: Create an unstructured data lake object <a class="header-anchor" href="#step-1-create-an-unstructured-data-lake-object" aria-label="Permalink to &quot;Step 1: Create an unstructured data lake object&quot;">​</a></h2><p>Unstructured data is stored in an unstructured data lake object (UDLO). A UDLO functions like a DLO, but it is specifically designed to define unstructured data.</p><ol><li><p>Using the App Launcher, open the <strong>Data Cloud</strong> application.</p></li><li><p>Click <strong>Data Lake Objects</strong>, then click <strong>New</strong>.</p></li><li><p>Select <strong>From External Files</strong> and click <strong>Next</strong>.</p><p><img src="'+l+'" alt="" data-zoomable="true"></p></li><li><p>Select <strong>Amazon S3</strong> and click <strong>Next</strong>.</p><p><img src="'+c+'" alt="" data-zoomable="true"></p></li><li><p>Fill out the connection details as follows:</p><table tabindex="0"><thead><tr><th><strong>Label</strong></th><th><strong>Value</strong></th></tr></thead><tbody><tr><td>Select connection</td><td><code>Coral Cloud S3 Connection</code></td></tr><tr><td>Directory</td><td><code>/agentforce-rag</code></td></tr><tr><td>File Name Pattern</td><td><code>*.pdf</code></td></tr></tbody></table><p>Use the screenshot below to confirm that you entered all the values correctly.</p><p><img src="'+d+'" alt="" data-zoomable="true"></p></li><li><p>Click <strong>Next</strong>.</p></li><li><p>Configure the unstructured data lake object and the unstructured data model object:</p><table tabindex="0"><thead><tr><th><strong>Label</strong></th><th><strong>Value</strong></th></tr></thead><tbody><tr><td>UDLO Object Name</td><td><code>Resort Information</code></td></tr><tr><td>UDLO Object API Name</td><td>Leave default value</td></tr><tr><td>UDMO Object Name</td><td><code>Resort Information</code></td></tr><tr><td>UDMO Object API Name</td><td>Leave default value</td></tr></tbody></table></li><li><p><strong>Uncheck</strong> Enable semantic search with system defaults.</p><p>Use the screenshot below to confirm that you entered all the values correctly.</p><p><img src="'+p+'" alt="" data-zoomable="true"></p></li><li><p>Click <strong>Next</strong>.</p></li><li><p>Leave the <strong>Search Index Configuration Details</strong> as is, and click <strong>Save</strong>.</p><p><img src="'+u+'" alt="" data-zoomable="true"></p></li></ol><h2 id="step-2-create-a-search-index" tabindex="-1">Step 2: Create a search index <a class="header-anchor" href="#step-2-create-a-search-index" aria-label="Permalink to &quot;Step 2: Create a search index&quot;">​</a></h2><p>In this step, you will create vector index using an index and chunk DMO.</p><ol><li><p>In the Data Cloud App, Click <strong>Search Index</strong> Tab, then click <strong>New</strong>.</p></li><li><p>Select <strong>Easy Setup</strong> and click <strong>Next</strong>.</p><p><img src="'+g+'" alt="" data-zoomable="true"></p></li><li><p>Select <strong>Resort Information</strong> and click <strong>Next</strong>.</p><p><img src="'+h+'" alt="" data-zoomable="true"></p></li><li><p>Leave the default values and click <strong>Save</strong>.</p><p><img src="'+f+'" alt="" data-zoomable="true"></p><p>Your vector database is now configured and ready for documents to be indexed.</p></li></ol><h2 id="step-3-authenticate-s3-file-notifications" tabindex="-1">Step 3: Authenticate S3 file notifications <a class="header-anchor" href="#step-3-authenticate-s3-file-notifications" aria-label="Permalink to &quot;Step 3: Authenticate S3 file notifications&quot;">​</a></h2><p>In this step, you&#39;ll authenticate a connected app with your Data Cloud org to allow S3 to send file change notifications.</p><ol><li><p>In your browser window, replace the URL segment that comes after <strong>lightning.force.com</strong> with:</p><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki Codey High Noon vp-code" tabindex="0"><code><span class="line"><span>/services/oauth2/authorize?response_type=code&amp;client_id=3MVG9suI4ZYS8sz7iwV98UZRCwt4F_Y6qfMuQsFD_oXbaD__oUpSTCdFbBJt2BRo2co0aro9kvAMGUF1UWZkN&amp;scope=api refresh_token cdp_ingest_api&amp;redirect_uri=https://salesforce.com&amp;code_challenge=SHA256</span></span></code></pre></div></li><li><p>Press <strong>Enter</strong>.</p></li><li><p>In the installation dialog click <strong>Allow</strong>.</p><p><img src="'+m+'" alt="" data-zoomable="true"></p></li></ol><h2 id="step-4-trigger-an-s3-file-notification" tabindex="-1">Step 4: Trigger an S3 file notification <a class="header-anchor" href="#step-4-trigger-an-s3-file-notification" aria-label="Permalink to &quot;Step 4: Trigger an S3 file notification&quot;">​</a></h2><p>Since we&#39;re using a file in a shared S3 bucket, we&#39;ll simulate a file change, which will then <a href="https://help.salesforce.com/s/articleView?language=en_US&amp;id=sf.c360_a_unstructured_data_s3_create_file_notification.htm&amp;type=5" target="_blank" rel="noreferrer">trigger the ingestion process</a> in your Data Cloud instance.</p><p>To simulate a file change, enter your workshop&#39;s org username (not email address) in the field below, then click <strong>Authenticate</strong>.</p>',16)),n(a),e[1]||(e[1]=t('<p>Once the file notification is successfully triggered, it will take a few minutes for the data to be ingested into your Data Cloud instance.</p><h2 id="step-5-validate-unstructured-data-ingestion" tabindex="-1">Step 5: Validate unstructured data ingestion <a class="header-anchor" href="#step-5-validate-unstructured-data-ingestion" aria-label="Permalink to &quot;Step 5: Validate unstructured data ingestion&quot;">​</a></h2><ol><li><p>In the Data Cloud app, click <strong>Data Explorer</strong>.</p></li><li><p>In the <strong>Object</strong> dropdown, select <strong>Data Lake Object</strong>, then select <strong>Resort Information chunk</strong>.</p><p><img src="'+b+'" alt="" data-zoomable="true"></p><p>The list of ingested chunks from the PDF files appears.</p><p><img src="'+k+'" alt="" data-zoomable="true"></p></li></ol><h2 id="summary" tabindex="-1">Summary <a class="header-anchor" href="#summary" aria-label="Permalink to &quot;Summary&quot;">​</a></h2><p>In this exercise, you ingested unstructured data from PDFs stored in Amazon S3 into Data Cloud. This unstructured data is now available for search use cases, for example, in prompt templates or via the Data Cloud Query API.</p>',5))])}const z=o(w,[["render",_]]);export{I as __pageData,z as default};
